{{define "title"}}Edit Swim{{end}}
{{define "main"}}
    {{with $swim := .Data}}
        <div class="create-swim">
            <div class="create-swim-card">
                <div class="create-swim-header">
                    <div class="header-icon">
                        <i class="fas fa-pen"></i>
                    </div>
                    <div>
                        <h2>Edit Swim</h2>
                        <p>Update the details of this swim entry.</p>
                    </div>
                </div>

                <form class="form swim-form"
                      method="POST"
                      action="/swims/edit/{{$swim.Id}}"
                      hx-put="/swims/edit/{{$swim.Id}}"
                      hx-target="body"
                      hx-push-url="true">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="date">Date</label>
                            <input type="date" name="date" id="date" value="{{$swim.Date.Format "2006-01-02"}}">
                        </div>
                        <div class="form-group">
                            <label for="distance_m">Distance (m)</label>
                            <input type="number" name="distance_m" id="distance_m" min="0" step="10"
                                   value="{{$swim.DistanceM}}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="assessment">Assessment</label>
                        <select id="assessment" name="assessment">
                            <option value="2" {{if eq $swim.Assessment 2}}selected{{end}}>Good</option>
                            <option value="1" {{if eq $swim.Assessment 1}}selected{{end}}>Neutral</option>
                            <option value="0" {{if eq $swim.Assessment 0}}selected{{end}}>Bad</option>
                        </select>
                    </div>
                    <div class="form-footer">
                        <button type="submit">
                            <i class="fas fa-save"></i>
                            Update Swim
                        </button>
                    </div>
                </form>
            </div>
        </div>
    {{else}}
        <p>Unable to load swim details.</p>
    {{end}}
{{end}}
